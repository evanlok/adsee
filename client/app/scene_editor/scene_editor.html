<div class="scene-editor">
  <div class="scenes-row">

    <scene-list scene-contents="$ctrl.sceneContents"
                selected-scene-content="$ctrl.selectedSceneContent"
                on-select="$ctrl.sceneCollectionEditor.selectSceneContent(sceneContent)"
                on-sort="$ctrl.sceneCollectionEditor.updateSceneContentPosition(sceneContent, position)"
                class="scene-thumbs-wrapper">
    </scene-list>

    <div class="preview-button-wrapper">
      <button class="preview-button" ng-click="$ctrl.preview()" ng-disabled="$ctrl.previewLoading">
        <i class="fa fa-play-circle-o" aria-hidden="true"></i> Preview
      </button>
    </div>

  </div>

  <div class="scenes-row-gradient-bg"></div>

  <div class="editor-body">
    <div class="main-column">

      <div class="scene-header">
        <h4 class="pull-left">
          Scene
          {{ $ctrl.sceneContentPosition($ctrl.selectedSceneContent) }}. {{ $ctrl.selectedSceneContent.scene.name }}
        </h4>
        <div class="scene-toggle-right">
          <a ui-sref="mediaLibrary" class="media-library-button"><i
              class="fa fa-file-o"></i> &nbsp;Media Library</a>

          <scene-navigator scene-contents="$ctrl.sceneContents"
                           selected-scene-content="$ctrl.selectedSceneContent"
                           on-next="$ctrl.sceneCollectionEditor.nextSceneContent()"
                           on-previous="$ctrl.sceneCollectionEditor.previousSceneContent()">
          </scene-navigator>
        </div>
      </div>

      <div class="main-image">
        <div ng-if="$ctrl.selectedSceneContent.scene.guide_video_url">
          <video-player url="{{ $ctrl.selectedSceneContent.scene.guide_video_url }}" autoplay="true"></video-player>
        </div>
      </div>

      <div class="scene-actionbar">

        <a href="" class="delete-scene pull-left"
           ng-click="$ctrl.sceneCollectionEditor.removeScene($ctrl.selectedSceneContent)">
          <i class="fa fa-trash"></i> delete scene
        </a>

        <div class="pull-right">

          <div class="pull-right time">
            <i class="fa fa-clock-o" aria-hidden="true"></i> {{ $ctrl.duration() | secondsToTime }}
          </div>

          <select ng-model="$ctrl.selectedSceneContent.transition_id"
                  ng-options="transition.id as transition.name for transition in $ctrl.transitions"
                  ng-change="$ctrl.sceneCollectionEditor.updateSceneContentTransition()">
            <option value="">Select a transition</option>
          </select>

        </div>
      </div>

    </div>
    <div class="content-column">
      <div class="content-panel">
        <div class="content-wrapper">

          <content-editor scene-content="$ctrl.selectedSceneContent"></content-editor>

        </div>
      </div>
    </div>
  </div>
</div>
