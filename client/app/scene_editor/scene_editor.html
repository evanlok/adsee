<div class="row">
  <div class="video-name-header">
    <h1>Video Editor</h1>
  </div>

  <div class="action-bar">
    <div class="industry-type-header">

      {{ $ctrl.sceneCollection.industry }} | {{ $ctrl.sceneCollection.ad_type }}

      <span ng-if="$ctrl.sceneCollection.theme">
        | {{ $ctrl.sceneCollection.theme }}
      </span>

    </div>
    <div class="top-action-bar">
      <theme-settings scene-collection="$ctrl.sceneCollection"
                      on-update="$ctrl.updateSceneCollection(prop, value)"></theme-settings>
    </div>
  </div>

  <div class="scenes-row">

    <scene-list scene-contents="$ctrl.sceneContents"
                selected-scene-content="$ctrl.selectedSceneContent"
                on-select="$ctrl.selectSceneContent(sceneContent)"
                on-sort="$ctrl.updateSceneContentPosition(sceneContent, position)"
                on-add-scene="$ctrl.displayAddScene = true"
                class="scene-thumbs-wrapper">
    </scene-list>
    
    <div class="preview-button-wrapper">
      <button class="preview-button" ng-click="$ctrl.preview()" ng-disabled="$ctrl.previewLoading">
        <i class="fa fa-play-circle-o" aria-hidden="true"></i> Preview
      </button>
    </div>

  </div>

  <add-scene on-add-scene="$ctrl.addScene(scene)" on-close="$ctrl.displayAddScene = false" ng-if="$ctrl.displayAddScene">
  </add-scene>

  <div class="editor-body" ng-if="!$ctrl.displayAddScene">
    <div class="main-column">

        <div class="scene-header">
          <h4 class="pull-left">
            Scene
              {{ $ctrl.sceneContentPosition($ctrl.selectedSceneContent) }}. {{ $ctrl.selectedSceneContent.scene.name }}
          </h4>
          <scene-navigator scene-contents="$ctrl.sceneContents"
                           selected-scene-content="$ctrl.selectedSceneContent"
                           on-next="$ctrl.nextSceneContent()"
                           on-previous="$ctrl.previousSceneContent()">
          </scene-navigator>
        </div>

        <div class="main-image">
          <div ng-if="$ctrl.selectedSceneContent.scene.preview_video_url">
            <video-player url="{{ $ctrl.selectedSceneContent.scene.preview_video_url }}" autoplay="true"></video-player>
          </div>
        </div>

        <div class="scene-actionbar">

            <a href="" class="delete-scene pull-left" ng-click="$ctrl.removeScene($ctrl.selectedSceneContent)">
              <i class="fa fa-trash"></i>
            </a>

            <div class="pull-left">
              <select ng-model="$ctrl.selectedSceneContent.transition_id"
                      ng-options="transition.id as transition.name for transition in $ctrl.transitions"
                      ng-change="$ctrl.updateSceneContentTransition()">
                <option value="">Select a transition</option>
              </select>
            </div>

            <div class="pull-right time"><i class="fa fa-clock-o" aria-hidden="true"></i> 1:06</div>

            <!-- Extra Add Scene Button -->
            <!-- <div class="pull-right">
>>>>>>> text field label animation
              <a ui-sref="sceneEditor.addScene" class="new-scene button">
                <i class="fa fa-plus-circle"></i> New Scene
              </a>
            </div> -->

        </div>

    </div>
    <div class="content-column">
      <div class="media-panel">
        <div class="media-wrapper">
          <uib-tabset justified="true" active="$ctrl.activeTab">
            <uib-tab index="0" heading="Content Editor">
              <content-editor scene-content="$ctrl.selectedSceneContent"
                              on-update-scene-attribute="$ctrl.updateSceneAttribute(sceneAttribute, value)">
              </content-editor>
            </uib-tab>

            <uib-tab index="1" heading="Media Library">
              <media-library></media-library>
            </uib-tab>
          </uib-tabset>
        </div>
      </div>
    </div>
  </div>
</div>

